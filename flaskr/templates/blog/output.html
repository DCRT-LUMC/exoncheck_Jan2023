{% extends 'base.html' %}

{% block header %}
  <h1>Previous uploads</h1>
  {% if g.user %}
    <a class="action" href="{{ url_for('blog.create') }}">Upload variant</a>
  {% endif %}
{% endblock %}

{% block content %}
  {% for post in posts %}
  <article class="post">
    <h1>{{ post['MANE_select_NM_variant'] }} </h1>
    <pre>(<a class="action" href="{{ url_for('blog.update', id=post['id']) }}">Delete</a>) </pre>
      <header>
        <div>
          <h3>GENE</h3>
          <pre>Gene symbol:               {{ post['gene_symbol'] }}</pre>
          <pre>ENSG gene id:              {{ post['ENSG_gene_id'] }}</pre>

          <h3>VARIANT</h3>
          <pre>---GENOMIC---</pre>
          <pre>Hg38 descriptions:         {{ post['NC_variant'] }}</pre>
          <pre>Strand:                    {{ post['strand'] }}</pre>
          <pre>                           {{ post['hg38_variant'] }}</pre>

          <pre>---TRANSCRIPT---</pre>
          <pre>MANE select                {{ post['MANE_select_NM_variant'] }} </pre>
          <pre>                           {{ post['MANE_select_ENST_variant'] }} </pre>

          <pre>---PROTEIN---</pre>
          <pre>Mutation:                  {{ post['consequence_variant'] }} </pre>

          <h3>EXON TO BE SKIPPED</h3>
          <pre>---GENOMIC---</pre>
          <pre>Exon number:               {{ post['exon_number'] }} / {{ post['total_exons'] }} {{post['exon_number_interpretation']}}</pre>
          <pre>Hg38 description:          {{ post['NC_exon'] }}</pre>
          <pre>Exon length:               {{ post['exon_length'] }} / {{ post['total_protein_length'] }} ({{ post['percentage_length'] }}%)</pre>
          <pre>Frame:                     {{ post['frame'] }}</pre>

          <pre>---TRANSCRIPT---</pre>
          <pre>Skip:                      {{ post['MANE_select_NM_exon'] }} </pre>
<!--          <pre>                           {{ post['MANE_select_ENST_exon'] }} </pre>-->

          <pre>---PROTEIN---</pre>
          <pre>Consequence of skipping:   {{ post['consequence_skipping'] }}</pre>

          <h3>DOMAIN INFO</h3>
          <pre>Uniprot:                   <a href="{{ post['uniprot_link'] }}">{{ post['uniprot_link'] }}</a></pre>
          <pre>Domain:                    {{ post['domain_info'] }}</pre>

          <h3>EXPRESSION INFO</h3>
          <pre>GTEX Portal:               <a href="{{ post['gtex_link'] }}">{{ post['gtex_link'] }}</a></pre>
          <pre>Expression eye:            <a href="{{ post['expression_eye'] }}">{{ post['expression_eye'] }} </a> (search here for the gene)</pre>
          <pre>Expression brain:          {{ post['expression_brain'] }}</pre>
          <pre>Expression fibroblasts:    {{ post['expression_fibroblasts'] }}</pre>
          <pre>Expression tibial_nerve:   {{ post['expression_tibial_nerve'] }}</pre>
          <pre>Expression blood:          {{ post['expression_blood'] }}</pre>
          <pre>Expression tr. lymphocytes:{{ post['expression_transformed_lymphocytes'] }}</pre>

          <h3>LOVD INFO</h3>
          <pre>Variants in LOVD:          <a href="{{ post['lovd_link'] }}">{{ post['lovd_link'] }}</a></pre>
          <pre># exact LOVD matches:      {{ post['no_exact_lovd_matches'] }} (Link: <a href="{{ post['exact_lovd_match_link'] }}">{{ post['exact_lovd_match_link'] }}</a>)</pre>
          <pre># partial LOVD matches:    {{ post['no_partial_lovd_matches'] }} (Links of the first 10 variants if present: <a href="https://databases.lovd.nl/shared/variants/{{ post['partial_lovd_match1'] }}">{{ post['partial_lovd_match1'] }}</a> <a href="https://databases.lovd.nl/shared/variants/{{ post['partial_lovd_match2'] }}">{{ post['partial_lovd_match2'] }}</a> <a href="https://databases.lovd.nl/shared/variants/{{ post['partial_lovd_match3'] }}">{{ post['partial_lovd_match3'] }}</a> <a href="https://databases.lovd.nl/shared/variants/{{ post['partial_lovd_match4'] }}">{{ post['partial_lovd_match4'] }}</a> <a href="https://databases.lovd.nl/shared/variants/{{ post['partial_lovd_match5'] }}">{{ post['partial_lovd_match5'] }}</a> <a href="https://databases.lovd.nl/shared/variants/{{ post['partial_lovd_match6'] }}">{{ post['partial_lovd_match6'] }}</a> <a href="https://databases.lovd.nl/shared/variants/{{ post['partial_lovd_match7'] }}">{{ post['partial_lovd_match7'] }}</a> <a href="https://databases.lovd.nl/shared/variants/{{ post['partial_lovd_match8'] }}">{{ post['partial_lovd_match8'] }}</a> <a href="https://databases.lovd.nl/shared/variants/{{ post['partial_lovd_match9'] }}">{{ post['partial_lovd_match9'] }}</a> <a href="https://databases.lovd.nl/shared/variants/{{ post['partial_lovd_match10'] }}">{{ post['partial_lovd_match10'] }}</a>)</pre>

          <h3>LINKS</h3>
          <pre>OMIM:                      <a href="{{ post['omim_link'] }}">{{ post['omim_link'] }}</a></pre>
          <pre>gnomAD:                    <a href="{{ post['gnomAD_link'] }}">{{ post['gnomAD_link'] }}</a></pre>
          <pre>Decipher:                  <a href="{{ post['decipher_link'] }}">{{ post['decipher_link'] }}</a></pre>
          <pre>ClinVar:                   <a href="{{ post['clinvar_link'] }}">{{ post['clinvar_link'] }}</a></pre>

        </div>
      </header>
    </article>
    {% if not loop.last %}
      <hr>
    {% endif %}
  {% endfor %}
{% endblock %}
